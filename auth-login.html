<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Logging in...</title>
  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
  apiKey: "AIzaSyCAPZF2zwU6z5rhikrIVZ4TVxf1tS5aTbA",
  authDomain: "darkpurpleof-s-website.firebaseapp.com",
  databaseURL: "https://darkpurpleof-s-website-default-rtdb.firebaseio.com",
  projectId: "darkpurpleof-s-website",
  storageBucket: "darkpurpleof-s-website.firebasestorage.app",
  messagingSenderId: "520651082420",
  appId: "1:520651082420:web:bb05c0c3fd64517952e5e1",
  measurementId: "G-S2X2JYC8Z0"
};
    firebase.initializeApp(firebaseConfig);
  </script>
</head>
<body>
  <p>Logging you in...</p>
  <script>
    const token = new URLSearchParams(window.location.search).get("token");

    if (!token) {
      window.location.href = "/login";
    } else {
      firebase.auth().signInWithCustomToken(token)
        .then(() => window.location.href = "/")
        .catch((err) => {
          console.error("Login failed:", err);
          window.location.href = "/login";
        });
    }
  </script>
</body>
</html>